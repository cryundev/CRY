#include "CRTime.h"


//---------------------------------------------------------------------------------------------------------------------
/// Constructor.
//---------------------------------------------------------------------------------------------------------------------
CRTime::CRTime()
{
    QueryPerformanceFrequency( &Frequency );

    Start();
    
}

//---------------------------------------------------------------------------------------------------------------------
/// Start.
//---------------------------------------------------------------------------------------------------------------------
void CRTime::Start()
{
    QueryPerformanceCounter( &StartTime );
}

//---------------------------------------------------------------------------------------------------------------------
/// Finish.
//---------------------------------------------------------------------------------------------------------------------
float CRTime::Finish()
{
    QueryPerformanceCounter( &FinishTime );

    return GetDeltaSeconds();
}

//---------------------------------------------------------------------------------------------------------------------
/// Get delta seconds.
//---------------------------------------------------------------------------------------------------------------------
float CRTime::GetDeltaSeconds() const
{
    return (float)( FinishTime.QuadPart - StartTime.QuadPart ) / (float)( Frequency.QuadPart ); 
}
